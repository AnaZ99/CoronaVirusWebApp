<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
  <style>
    #kopce {
      background-color: orange;
      color: black;


    }
    #lala {text-align: center;
      margin-top:17.2rem;
      margin-bottom: 300px;
      font-size: 110px;
      color: orange;
    }
    #lala1 {text-align: center;
      margin-top:17.2rem;
      margin-bottom: 300px;
      font-size: 110px;
      color: orange;
    }





  </style>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta charset="UTF-8"/>
  <title>Home</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>

  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=\, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />
  <link
          rel="stylesheet"
          href="https://unpkg.com/leaflet@1.4.0/dist/leaflet.css"
          integrity="sha512-puBpdR0798OZvTTbP4A8Ix/l+A4dHDD0DGqYW6RQ+9jxkRFclaxxQb/SJAWZfWAkuyeQUytO7+7N4QKrDh+drA=="
          crossorigin=""
  />
  <script
          src="https://unpkg.com/leaflet@1.4.0/dist/leaflet.js"
          integrity="sha512-QVftwZFqvtRNi0ZyCtsznlKSWOStnDORoefr1enyq5mVL4tmKB3S/EnC3rRJcxCPavG10IcrVGSmPh6Qw5lwrg=="
          crossorigin=""
  ></script>
  <style>
    #issMap {
      height: 900px;
      width: auto;
      margin-right: auto;
      margin-left: auto;
      border: 3px solid black;


    }
  </style>

  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>










  <script type="text/javascript" src="//cdn.jsdelivr.net/jquery/1/jquery.min.js"></script>
  <script type="text/javascript" src="//cdn.jsdelivr.net/momentjs/latest/moment.min.js"></script>
  <link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/bootstrap/3/css/bootstrap.css" />

  <!-- Include Date Range Picker -->
  <script type="text/javascript" src="//cdn.jsdelivr.net/bootstrap.daterangepicker/2/daterangepicker.js"></script>
  <link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/bootstrap.daterangepicker/2/daterangepicker.css" />

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

</head>
<body background="https://www.uni-potsdam.de/typo3temp/assets/_processed_/1/3/csm_teaser_corona_03_2ea4d4e4fc.jpg">

<header xmlns:th="http://www.w3.org/1999/xhtml">
  <nav class="navbar navbar-inverse">
    <div class="container-fluid">
      <div class="navbar-header">
        <a class="navbar-brand" href="/events">Covid19 NEWS</a>
      </div>

      <ul style=" display: inline-block;" class="nav navbar-nav navbar-right">
        <li><a href="/events"><span></span>Events</a></li>
        <li><a href="/cases"><span ></span>Cases</a></li>
      </ul>
    </div>
  </nav>
</header>

<section  class=" text-center" xmlns:th="http://www.w3.org/1999/xhtml">
  <div class="container">

    <div >

      <b><h2 style="opacity: 0.9;background: azure; margin: auto; width: 549px;  text-align: center">Coronavirus News and Latest Updates </h2></b>
    </div>
  </div>

  <br>



  <form th:method="GET" th:action="@{'/search'}">


    <input id="datum" type="text" name="date"  />

    <script type="text/javascript">
      $(function() {
        $('input[name="date"]').daterangepicker({
                  singleDatePicker: true,
                  showDropdowns: true
                });
      });


    </script>

    <form class="example" action="action_page.php">
      <input type="text" placeholder="Country.." name="search">
      <button type="submit"><i class="fa fa-search"></i></button>
    </form>


  </form>
  <br>

  <div id="noEvents" style="display: none;opacity: 0.85; position: center ;font-size: 20px ;background: azure ; margin: auto; width: 250px; color: red">No events were found</div>




  <div style="margin-right: auto;margin-left: auto; padding-right: 50px; padding-left: 50px;">  <div style="position: center" id="issMap"></div></div>




  <script th:inline="javascript">
    var myval = /*[[${nastani}]]*/ "Test";
    var nemanisto = /*[[${nemanisto}]]*/ "Test";

console.log(nemanisto);
    let mymap=""
    if(nemanisto=="2") {
       mymap = L.map('issMap').setView([myval[0].lat, myval[0].lon], 6);
    }

    if(nemanisto=="1")
    {
      document.getElementById("noEvents").style.display='block';
      mymap = L.map('issMap').setView([43.22,34.22], 5);
    }

    const attribution =
            '&copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors';

    const tileUrl = 'https://cartodb-basemaps-{s}.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png';
    const tiles = L.tileLayer(tileUrl, { attribution });
    tiles.addTo(mymap);


    const YL = L.icon({
      iconUrl: "https://cdn3.iconfinder.com/data/icons/map-14/144/Map-10-512.png",
      iconSize: [45, 45],
      iconAnchor: [30, 25]
    });

    const issIcon = L.icon({
      iconUrl: "https://i.pinimg.com/originals/25/62/aa/2562aacd1a4c2af60cce9629b1e05cf2.png",

      iconSize: [50, 50],
      iconAnchor: [30, 25],
      popupAnchor:  [-3, -76],
      title:"Home"
    })




    const api_url = 'https://api.wheretheiss.at/v1/satellites/25544';
    let firstTime = true;



  var niziste = [];
  for (var w = 0; w < 1000; w++) {

    niziste[w] = L.marker([myval[w].lat, myval[w].lon]).addTo(mymap);

    var popup = "<a href=" + myval[w].url + "><div> " + myval[w].title + "</div> <img style='height: 150px; width: 250px' src=" + myval[w].image + "> " +

            "</a> <div> " + myval[w].contextualText + "</div>"
    niziste[w].bindPopup(popup);
  }

    /*var tocka=L.marker([32.33,54.45], {icon: YL}).addTo(mymap);
    tocka.bindPopup("Aptekata se naogja na " );*/



    /*  var old1=parseFloat(d)
      var old2=parseFloat(c)*/


    /* //momentlana lokacija
     navigator.geolocation.getCurrentPosition(function (position) {
       var positionInfo = "Your current position is (" + "Latitude: " + position.coords.latitude + ", " + "Longitude: " + position.coords.longitude + ")";
       d.push(position.coords.latitude);
       c.push(position.coords.longitude);
       d=parseFloat(d)
       c=parseFloat(c)

       var zz;
       zz=  L.marker([d, c], {icon: YL}).addTo(mymap);

       zz.bindPopup("Your Location");

       d=[];
       c=[];


     });*/






    /*  //stavanje od baza
      var niziste=[];
      for(var w=0;w<myval.length-1;w++) {
        niziste[w]=  L.marker([myval[w].lat, myval[w].lon]).addTo(mymap);
        niziste[w].bindPopup("Aptekata se naogja na " + String(niza2[w]) + " KM");



      }*/





  </script>


</section>





<footer style="background: white ; border-top: 1px solid black;"   class="text-black-50 mt-xl-5" xmlns:th="http://www.thymeleaf.org">
  <div style="padding:10px;" class="container">
    <div class="row">
      <div style="color:black" class="col-md-3 col-lg-4 col-xl-3">

      </div>




    </div>
  </div>
</footer>

</body>
</html>